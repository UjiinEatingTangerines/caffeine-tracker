{
  "hooks": {
    "user-prompt-submit-hook": {
      "command": "bash",
      "args": ["-c", "cat << 'EOF'\n\nðŸ“‹ Caffeine Tracker Development Reminders:\n\n$(if echo \"$PROMPT\" | grep -qi \"admob\\|ad\\|ê´‘ê³ \"; then\n  echo \"âš ï¸  AdMob Guidelines:\"\n  echo \"   â€¢ Use TEST IDs during development (ca-app-pub-3940256099942544/...)\"\n  echo \"   â€¢ Banner ads: Bottom of screen only\"\n  echo \"   â€¢ Interstitial ads: Every 3 sessions + 5 min interval\"\n  echo \"   â€¢ Test on REAL device (ads don't work on iOS simulator)\"\n  echo \"\"\nfi)\n\n$(if echo \"$PROMPT\" | grep -qi \"database\\|sqlite\\|db\\|ì €ìž¥\"; then\n  echo \"ðŸ’¾ Database Guidelines:\"\n  echo \"   â€¢ Use singleton pattern for DatabaseService\"\n  echo \"   â€¢ Table: caffeine_entries (id, drinkName, amount, timestamp)\"\n  echo \"   â€¢ Always use path_provider for database path\"\n  echo \"   â€¢ Test offline functionality - NO internet required\"\n  echo \"\"\nfi)\n\n$(if echo \"$PROMPT\" | grep -qi \"medical\\|health\\|ì¹˜ë£Œ\\|ì§„ë‹¨\\|ì˜ë£Œ\"; then\n  echo \"âš ï¸  LEGAL WARNING:\"\n  echo \"   â€¢ NEVER call this a medical app or diagnostic tool\"\n  echo \"   â€¢ MUST include disclaimer: 'Reference only, not medical advice'\"\n  echo \"   â€¢ Avoid terms: treatment, diagnosis, cure, medical\"\n  echo \"   â€¢ Use terms: reference, tracker, calculator, estimate\"\n  echo \"\"\nfi)\n\n$(if echo \"$PROMPT\" | grep -qi \"calculate\\|formula\\|ë°˜ê°ê¸°\\|ê³„ì‚°\"; then\n  echo \"ðŸ§® Caffeine Calculation:\"\n  echo \"   â€¢ Half-life: 5.5 hours (constant)\"\n  echo \"   â€¢ Sleep threshold: 25mg\"\n  echo \"   â€¢ Formula: remaining = initial Ã— pow(0.5, hours_elapsed / 5.5)\"\n  echo \"   â€¢ Graph: 30-minute intervals, past 6h + future 12h\"\n  echo \"\"\nfi)\n\n$(if echo \"$PROMPT\" | grep -qi \"create.*file\\|new.*file\\|ë§Œë“¤\\|ìƒì„±\"; then\n  echo \"ðŸ“ File Structure:\"\n  echo \"   â€¢ Models: lib/models/\"\n  echo \"   â€¢ Screens: lib/screens/\"\n  echo \"   â€¢ Widgets: lib/widgets/\"\n  echo \"   â€¢ Services: lib/services/\"\n  echo \"   â€¢ Constants: lib/constants/\"\n  echo \"   â€¢ Check CLAUDE.md for file-specific guidelines\"\n  echo \"\"\nfi)\n\n$(if echo \"$PROMPT\" | grep -qi \"commit\\|push\\|ë°°í¬\\|release\"; then\n  echo \"ðŸš€ Pre-Release Checklist:\"\n  echo \"   â€¢ [ ] Replace ALL AdMob test IDs with production IDs\"\n  echo \"   â€¢ [ ] Check AndroidManifest.xml and Info.plist have prod IDs\"\n  echo \"   â€¢ [ ] Disclaimer visible in app UI\"\n  echo \"   â€¢ [ ] Privacy policy page created\"\n  echo \"   â€¢ [ ] Test offline mode (airplane mode)\"\n  echo \"   â€¢ [ ] App size < 50MB\"\n  echo \"   â€¢ [ ] Remove TODO comments\"\n  echo \"\"\nfi)\n\n$(if echo \"$PROMPT\" | grep -qi \"chart\\|graph\\|ê·¸ëž˜í”„\\|ì°¨íŠ¸\"; then\n  echo \"ðŸ“Š Chart Implementation:\"\n  echo \"   â€¢ Use fl_chart package (^0.65.0)\"\n  echo \"   â€¢ Wrap in Expanded or SizedBox with fixed height\"\n  echo \"   â€¢ Show horizontal line at 25mg (sleep threshold)\"\n  echo \"   â€¢ X-axis: time, Y-axis: caffeine (mg)\"\n  echo \"\"\nfi)\n\nâœ… Reference: See caffeine_tracker_mvp_plan.md lines 235-700 for implementation code\nâœ… Guidelines: See CLAUDE.md for detailed implementation notes\n\nEOF\n"],
      "timeout": 5000
    },

    "tool-use-hook:write": {
      "command": "bash",
      "args": ["-c", "FILE_PATH=\"$TOOL_INPUT_FILE_PATH\"\nCONTENT=\"$TOOL_INPUT_CONTENT\"\n\ncat << 'EOF'\n\nðŸ“ File Write Checks:\n\n$(if echo \"$FILE_PATH\" | grep -q \"ad_manager.dart\"; then\n  if echo \"$CONTENT\" | grep -q \"ca-app-pub-3940256099942544\"; then\n    echo \"âœ… Using AdMob TEST IDs (correct for development)\"\n  elif echo \"$CONTENT\" | grep -q \"ca-app-pub-[0-9]\"; then\n    echo \"âš ï¸  WARNING: Detected PRODUCTION AdMob IDs!\"\n    echo \"   Use test IDs during development: ca-app-pub-3940256099942544/...\"\n    echo \"   Only use production IDs before final release.\"\n  fi\n  echo \"\"\nfi)\n\n$(if echo \"$FILE_PATH\" | grep -q \"caffeine_calculator.dart\"; then\n  if echo \"$CONTENT\" | grep -q \"halfLife.*=.*5.5\"; then\n    echo \"âœ… Half-life constant is correct (5.5 hours)\"\n  else\n    echo \"âš ï¸  Check half-life constant = 5.5 hours\"\n  fi\n  if echo \"$CONTENT\" | grep -q \"sleepThreshold.*=.*25\"; then\n    echo \"âœ… Sleep threshold is correct (25mg)\"\n  else\n    echo \"âš ï¸  Check sleep threshold = 25.0 mg\"\n  fi\n  echo \"\"\nfi)\n\n$(if echo \"$FILE_PATH\" | grep -q \"database_service.dart\"; then\n  if echo \"$CONTENT\" | grep -q \"path_provider\\|getDatabasesPath\"; then\n    echo \"âœ… Using path_provider for database path\"\n  else\n    echo \"âš ï¸  Use path_provider package for database path\"\n    echo \"   import 'package:path_provider/path_provider.dart';\"\n  fi\n  if echo \"$CONTENT\" | grep -q \"singleton\\|static.*instance\"; then\n    echo \"âœ… Using singleton pattern\"\n  else\n    echo \"ðŸ’¡ Consider singleton pattern for DatabaseService\"\n  fi\n  echo \"\"\nfi)\n\n$(if echo \"$CONTENT\" | grep -qi \"ì¹˜ë£Œ\\|cure\\|medical device\\|diagnos\"; then\n  echo \"ðŸš¨ LEGAL ALERT: Medical terminology detected!\"\n  echo \"   Avoid: treatment, cure, diagnosis, medical device\"\n  echo \"   Use: tracker, calculator, reference, estimate\"\n  echo \"   MUST include disclaimer in app\"\n  echo \"\"\nfi)\n\n$(if echo \"$FILE_PATH\" | grep -q \"pubspec.yaml\"; then\n  echo \"ðŸ“¦ Package Checklist:\"\n  PACKAGES=(\"provider\" \"sqflite\" \"path_provider\" \"google_mobile_ads\" \"fl_chart\" \"intl\")\n  for pkg in \"${PACKAGES[@]}\"; do\n    if echo \"$CONTENT\" | grep -q \"$pkg:\"; then\n      echo \"   âœ… $pkg\"\n    else\n      echo \"   âš ï¸  Missing: $pkg\"\n    fi\n  done\n  echo \"\"\nfi)\n\n$(if echo \"$FILE_PATH\" | grep -q \"main.dart\"; then\n  if echo \"$CONTENT\" | grep -q \"WidgetsFlutterBinding.ensureInitialized\"; then\n    echo \"âœ… WidgetsFlutterBinding initialized\"\n  else\n    echo \"âš ï¸  Add: WidgetsFlutterBinding.ensureInitialized() in main()\"\n  fi\n  if echo \"$CONTENT\" | grep -q \"MobileAds.instance.initialize\"; then\n    echo \"âœ… AdMob initialized\"\n  else\n    echo \"ðŸ’¡ Don't forget to initialize AdMob\"\n  fi\n  if echo \"$CONTENT\" | grep -q \"debugShowCheckedModeBanner.*false\"; then\n    echo \"âœ… Debug banner disabled\"\n  fi\n  echo \"\"\nfi)\n\nEOF\n"],
      "timeout": 5000
    },

    "tool-use-hook:edit": {
      "command": "bash",
      "args": ["-c", "FILE_PATH=\"$TOOL_INPUT_FILE_PATH\"\nOLD_STRING=\"$TOOL_INPUT_OLD_STRING\"\nNEW_STRING=\"$TOOL_INPUT_NEW_STRING\"\n\ncat << 'EOF'\n\nâœï¸  File Edit Checks:\n\n$(if echo \"$FILE_PATH\" | grep -q \"AndroidManifest.xml\"; then\n  if echo \"$NEW_STRING\" | grep -q \"ca-app-pub-3940256099942544\"; then\n    echo \"âœ… Using AdMob TEST App ID (correct for development)\"\n  elif echo \"$NEW_STRING\" | grep -q \"ca-app-pub-[0-9]\"; then\n    echo \"âš ï¸  Production AdMob App ID detected\"\n    echo \"   Make sure this is intentional (release build only)\"\n  fi\n  echo \"\"\nfi)\n\n$(if echo \"$FILE_PATH\" | grep -q \"Info.plist\"; then\n  if echo \"$NEW_STRING\" | grep -q \"GADApplicationIdentifier\"; then\n    if echo \"$NEW_STRING\" | grep -q \"ca-app-pub-3940256099942544\"; then\n      echo \"âœ… Using AdMob TEST App ID for iOS\"\n    else\n      echo \"âš ï¸  Production AdMob App ID detected for iOS\"\n    fi\n  fi\n  if echo \"$NEW_STRING\" | grep -q \"NSUserTrackingUsageDescription\"; then\n    echo \"âœ… iOS tracking permission message included\"\n  fi\n  echo \"\"\nfi)\n\n$(if echo \"$OLD_STRING\" | grep -q \"TODO\"; then\n  if echo \"$NEW_STRING\" | grep -q \"TODO\"; then\n    echo \"ðŸ’¡ TODO comment still present\"\n  else\n    echo \"âœ… TODO resolved\"\n  fi\nfi)\n\nEOF\n"],
      "timeout": 5000
    },

    "tool-use-hook:bash": {
      "command": "bash",
      "args": ["-c", "BASH_CMD=\"$TOOL_INPUT_COMMAND\"\n\ncat << 'EOF'\n\nðŸ”§ Command Execution:\n\n$(if echo \"$BASH_CMD\" | grep -q \"flutter build.*--release\"; then\n  echo \"ðŸš€ RELEASE BUILD DETECTED!\"\n  echo \"\"\n  echo \"   Pre-Release Checklist:\"\n  echo \"   â€¢ [ ] All AdMob test IDs replaced with production IDs?\"\n  echo \"   â€¢ [ ] AndroidManifest.xml has production AdMob App ID?\"\n  echo \"   â€¢ [ ] Info.plist has production AdMob App ID?\"\n  echo \"   â€¢ [ ] Disclaimer visible in app?\"\n  echo \"   â€¢ [ ] Privacy policy included?\"\n  echo \"   â€¢ [ ] Tested on real device (not just emulator)?\"\n  echo \"   â€¢ [ ] All TODO comments removed?\"\n  echo \"   â€¢ [ ] Version set to 1.0.0 in pubspec.yaml?\"\n  echo \"\"\n  echo \"   If NOT ready, cancel this command (Ctrl+C)\"\n  echo \"\"\nfi)\n\n$(if echo \"$BASH_CMD\" | grep -q \"git commit\"; then\n  echo \"ðŸ“ Git Commit:\"\n  echo \"   Remember to follow commit message format from CLAUDE.md\"\n  echo \"   Include Co-Authored-By: Claude if using Claude Code\"\n  echo \"\"\nfi)\n\n$(if echo \"$BASH_CMD\" | grep -q \"flutter create\"; then\n  echo \"ðŸŽ¯ Creating Flutter Project:\"\n  echo \"   After creation, remember to:\"\n  echo \"   1. Copy pubspec.yaml from CLAUDE.md\"\n  echo \"   2. Run: flutter pub get\"\n  echo \"   3. Create folder structure (models, screens, widgets, services, constants)\"\n  echo \"   4. Configure AdMob in AndroidManifest.xml and Info.plist\"\n  echo \"\"\nfi)\n\n$(if echo \"$BASH_CMD\" | grep -q \"flutter pub\"; then\n  echo \"ðŸ“¦ Package Management:\"\n  echo \"   Required packages for this project:\"\n  echo \"   â€¢ provider (state management)\"\n  echo \"   â€¢ sqflite, path, path_provider (database)\"\n  echo \"   â€¢ google_mobile_ads (AdMob)\"\n  echo \"   â€¢ fl_chart (graphs)\"\n  echo \"   â€¢ intl (date/time)\"\n  echo \"\"\nfi)\n\n$(if echo \"$BASH_CMD\" | grep -q \"flutter run\"; then\n  echo \"â–¶ï¸  Running App:\"\n  echo \"   â€¢ AdMob ads require real device or emulator with Google Play Services\"\n  echo \"   â€¢ iOS Simulator does NOT show ads\"\n  echo \"   â€¢ Wait 1-2 minutes for test ads to load on first launch\"\n  echo \"   â€¢ Test offline mode by enabling airplane mode\"\n  echo \"\"\nfi)\n\n$(if echo \"$BASH_CMD\" | grep -q \"flutter test\"; then\n  echo \"ðŸ§ª Testing:\"\n  echo \"   Focus on testing CaffeineCalculator logic:\"\n  echo \"   â€¢ calculateRemaining() with known values\"\n  echo \"   â€¢ calculateSleepTime() edge cases\"\n  echo \"   â€¢ generateCurve() data points\"\n  echo \"\"\nfi)\n\nEOF\n"],
      "timeout": 5000
    },

    "tool-use-hook:glob": {
      "command": "bash",
      "args": ["-c", "cat << 'EOF'\n\nðŸ” File Search:\n\nðŸ’¡ Quick Reference:\n   â€¢ Models: lib/models/*.dart\n   â€¢ Screens: lib/screens/*.dart\n   â€¢ Widgets: lib/widgets/*.dart\n   â€¢ Services: lib/services/*.dart\n   â€¢ Constants: lib/constants/*.dart\n\n   See CLAUDE.md for complete file structure.\n\nEOF\n"],
      "timeout": 3000
    }
  },

  "customInstructions": "You are working on a Flutter mobile app for caffeine tracking. This is a 2-week MVP project focused on AdMob monetization. CRITICAL: (1) Never call this a medical app - use disclaimers, (2) Use AdMob TEST IDs during development, (3) All features must work offline, (4) Follow the implementation roadmap in CLAUDE.md, (5) Reference code examples in caffeine_tracker_mvp_plan.md lines 235-700. TESTING: (6) See TESTING_GUIDE.md for complete testing, (7) See TESTING_IOS.md for iOS/Mac setup, (8) AdMob ads NEVER show in iOS Simulator - always use real iPhone for ad testing.",

  "projectContext": {
    "type": "flutter",
    "monetization": "admob",
    "database": "sqlite-local-only",
    "status": "mvp-development",
    "legalRequirements": "medical-disclaimer-required",
    "testingEnvironment": "mac-iphone",
    "testingDocs": ["TESTING_GUIDE.md", "TESTING_IOS.md"]
  }
}
